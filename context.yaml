$schema: 'json-schema.json'

import:
  - path: src/**/context.yaml
  - path: prompts.yaml

documents:
  - description: 'Project structure overview'
    outputPath: project-structure.md
    sources:
      - type: tree
        sourcePaths:
          - src
        showCharCount: true
        showSize: true

  - description: Core Interfaces
    outputPath: core/interfaces.md
    sources:
      - type: file
        sourcePaths: src
        filePattern:
          - '*Interface.php'
        showTreeView: true

  - description: "Changes in the Project"
    outputPath: "changes.md"
    sources:
      - type: git_diff
        commit: unstaged

  - description: MCP vendor
    outputPath: mcp/vendor.md
    sources:
      - type: file
        sourcePaths:
          - vendor/logiscape/mcp-sdk-php/src/Server/Transport
          - vendor/logiscape/mcp-sdk-php/src/Server/HttpServerRunner.php
          - vendor/logiscape/mcp-sdk-php/src/Server/HttpServerSession.php
        notPath:
          - StdioServerTransport.php
          - ServerSession.php
          - Server/Server.php
          - InitializationOptions.php
$schema: 'https://raw.githubusercontent.com/context-hub/generator/refs/heads/main/json-schema.json'

import:
  - path: src/**/context.yaml
  - path: prompts.yaml
  - path: ./docs
    format: md

documents:
  - description: 'Project structure overview'
    outputPath: project-structure.md
    overwrite: true
    sources:
      - type: tree
        sourcePaths:
          - src
        showCharCount: true
        showSize: true

  - description: Core Interfaces
    outputPath: core/interfaces.md
    sources:
      - type: file
        sourcePaths: src
        filePattern:
          - '*Interface.php'
        showTreeView: true

  - description: Project Templates
    outputPath: core/templates.md
    sources:
      - type: file
        sourcePaths:
          - src/Template
          - vendor/spiral/files/src/FilesInterface.php
        showTreeView: true

  - description: Drafling Templates
    outputPath: core/drafling.md
    sources:
      - type: file
        sourcePaths:
          - src/Drafling/Config
          - src/Drafling/Domain
          - src/Drafling/Repository
          - src/Drafling/Service
          - src/Drafling/Storage/StorageDriverInterface.php

  - description: Drafling FileStorage
    outputPath: drafling/file-storage.md
    sources:
      - type: file
        sourcePaths:
          - src/Drafling/Storage

  - description: Drafling MCP
    outputPath: drafling/mcp.md
    sources:
      - type: file
        sourcePaths:
          - src/Drafling/MCP
          - src/McpServer/McpServerBootloader.php


  - description: "Changes in the Project"
    outputPath: "changes.md"
    sources:
      - type: git_diff
        commit: unstaged
